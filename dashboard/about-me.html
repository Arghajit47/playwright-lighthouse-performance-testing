<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>About Me - Test Dashboard</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/about.css" />
  </head>
  <body>
    <div id="loading-overlay"></div>
    <div class="app">
      <!-- Common elements will be injected by JS -->
      <div id="theme-toggle-container"></div>
      <div id="sidebar-container"></div>
      <button
        id="hamburger-button"
        class="hamburger-button"
        aria-label="Open menu"
      >
        <img
          src="https://img.icons8.com/fluency/48/menu--v3.png"
          alt="Menu"
          style="width: 24px; height: 24px"
        />
      </button>

      <header class="page-header">
        <h1>About Me - Project Documentation</h1>
      </header>

      <main id="main-content" style="display: block" class="about-container">
        <!-- Creator Information -->
        <div class="creator-info">
          <div class="creator-name">Arghajit Singha</div>
          <div class="creator-role">
            Software Development Engineer in Test III
          </div>
          <p>
            Contact me:
            <a href="mailto:arghajitsingha47@gmail.com" class="contact-link"
              >arghajitsingha47@gmail.com</a
            >
          </p>
        </div>

        <!-- Project Overview -->
        <div class="section-card">
          <h2 class="section-title">üéØ Project Overview</h2>
          <p class="file-description">
            This comprehensive testing dashboard provides performance, visual,
            and security testing capabilities using Playwright, Lighthouse, and
            various security scanning tools. The project includes automated
            CI/CD pipelines, data storage solutions, and interactive dashboards
            for result visualization.
          </p>
        </div>

        <!-- Frontend Files -->
        <div class="section-card">
          <h2 class="section-title">üåê Frontend Dashboard Files</h2>

          <div class="file-item">
            <div class="file-name">üìÑ index.html</div>
            <div class="file-description">
              Main Performance Dashboard - Displays Lighthouse performance
              metrics with interactive charts and filtering capabilities.
            </div>
            <div class="workflow-section">
              <div class="workflow-title">Key Features:</div>
              <div class="workflow-step">
                ‚Ä¢ KPI cards showing performance, accessibility, SEO, and best
                practices scores
              </div>
              <div class="workflow-step">
                ‚Ä¢ Interactive charts with Highcharts integration
              </div>
              <div class="workflow-step">
                ‚Ä¢ Advanced filtering by device type, date range, and search
                terms
              </div>
              <div class="workflow-step">
                ‚Ä¢ Data table with pagination and sorting
              </div>
            </div>
          </div>

          <div class="file-item">
            <div class="file-name">üìÑ visual.html</div>
            <div class="file-description">
              Visual Testing Dashboard - Shows visual regression test results
              and screenshot comparisons.
            </div>
            <div class="workflow-section">
              <div class="workflow-title">Key Features:</div>
              <div class="workflow-step">
                ‚Ä¢ Visual test result cards with pass/fail status
              </div>
              <div class="workflow-step">
                ‚Ä¢ Pie chart breakdown of test results
              </div>
              <div class="workflow-step">
                ‚Ä¢ Screenshot path listing and comparison tools
              </div>
              <div class="workflow-step">
                ‚Ä¢ Modal image viewer for difference images
              </div>
            </div>
          </div>

          <div class="file-item">
            <div class="file-name">üìÑ security.html</div>
            <div class="file-description">
              Security Vulnerability Dashboard - Displays security scan results
              from various tools.
            </div>
            <div class="workflow-section">
              <div class="workflow-title">Key Features:</div>
              <div class="workflow-step">
                ‚Ä¢ Vulnerability alerts categorized by risk level (High, Medium,
                Low)
              </div>
              <div class="workflow-step">
                ‚Ä¢ Detailed vulnerability information with solutions
              </div>
              <div class="workflow-step">
                ‚Ä¢ Alert filtering and search functionality
              </div>
              <div class="workflow-step">
                ‚Ä¢ Instance details for each vulnerability
              </div>
            </div>
          </div>

          <div class="file-item">
            <div class="file-name">üìÑ login.html</div>
            <div class="file-description">
              Authentication page with session management for dashboard access.
            </div>
          </div>

          <div class="file-item">
            <div class="file-name">üìÑ 404.html</div>
            <div class="file-description">
              Custom error page with navigation options back to main dashboard.
            </div>
          </div>
        </div>

        <!-- JavaScript Files -->
        <div class="section-card">
          <h2 class="section-title">‚öôÔ∏è JavaScript Files & Functions</h2>

          <div class="file-item">
            <div class="file-name">üìú js/common.js</div>
            <div class="file-description">
              <strong>Purpose:</strong> This is the "backbone" JavaScript file
              containing shared functionality used across ALL dashboard pages
              (Performance, Visual, Security). Think of it as the common
              foundation that every page needs.
            </div>
            <div class="workflow-section">
              <div class="workflow-title">
                üîê checkAuth() - Authentication Guard Function:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Acts like a security guard -
                checks if you're logged in before letting you access dashboard
                pages
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Looks in browser's sessionStorage for
                key "isAuthenticated" to see if it equals "true"
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Reads current page URL and checks if
                you're on login.html or root path
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Checks if you're on about-me.html
                (which is public and doesn't need login)
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> IF not authenticated AND not on login
                page AND not on about page ‚Üí Redirect to login.html
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> IF authenticated AND on login page ‚Üí
                Redirect to index.html (main dashboard)
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> User types "visual.html" in browser ‚Üí
                checkAuth() runs ‚Üí No "isAuthenticated" found in sessionStorage
                ‚Üí User automatically sent to login.html
              </div>
              <div class="workflow-step">
                <strong>Input:</strong> None (reads from sessionStorage and
                window.location.pathname)
              </div>
              <div class="workflow-step">
                <strong>Output:</strong> Either allows page load OR redirects
                using window.location.replace()
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üé® toggleTheme() - Light/Dark Mode Switcher:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Switches entire dashboard between
                light mode (‚òÄÔ∏è white backgrounds) and dark mode (üåô dark
                backgrounds)
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Reads current theme from
                localStorage.getItem('theme') - returns "light" or "dark"
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Flips the theme: if "light" ‚Üí change to
                "dark", if "dark" ‚Üí change to "light"
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Saves new theme to
                localStorage.setItem('theme', newValue) so it persists after
                refresh
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Calls applyTheme(newTheme) which sets
                document.documentElement.setAttribute('data-theme', newTheme)
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> This changes CSS variables like
                --text-primary, --bg-primary throughout entire page
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Calls renderThemeToggle() to update
                button icon (sun ‚Üî moon)
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> IF Highcharts exist, calls
                window.applyFiltersAndRender() to redraw charts with new colors
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Dark mode active ‚Üí User clicks sun
                button ‚Üí toggleTheme() runs ‚Üí localStorage saves "light" ‚Üí
                document gets data-theme="light" ‚Üí All colors change ‚Üí Button
                now shows moon ‚Üí Charts redraw with light colors
              </div>
              <div class="workflow-step">
                <strong>Why it matters:</strong> Accessibility feature - reduces
                eye strain, some prefer light during day/dark at night
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üß© renderSidebar() - Navigation Menu Builder:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Creates the left sidebar
                navigation menu that lets you switch between Performance,
                Visual, and Security dashboards
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Defines menuItems array: [{name:
                "Performance Dashboard", path: "index.html"}, {name: "Visual
                Dashboard", path: "visual.html"}, ...]
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Gets current page filename from
                window.location.pathname.split('/').pop() (e.g., "visual.html")
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Uses Array.map() to loop through each
                menu item and generate HTML string
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> For each item: checks if item.path ===
                currentPath, if yes adds class="active" for highlighting
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Creates &lt;li
                onclick="window.location.href='path'"&gt;item name&lt;/li&gt;
                for each menu option
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Wraps all &lt;li&gt; elements in &lt;ul
                class="menu-items"&gt; container
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Adds brand logo image (&lt;img
                src="assets/image.png"&gt;) at top of sidebar
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Creates overlay div (darkened
                background) for mobile when sidebar is open
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Injects complete HTML into
                document.getElementById('sidebar-container').innerHTML
              </div>
              <div class="workflow-step">
                <strong>Step 10:</strong> Attaches click listener to hamburger
                button (‚ò∞) ‚Üí calls openSidebar() on mobile
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Page loads on visual.html ‚Üí
                renderSidebar() executes ‚Üí Creates 4 menu items ‚Üí "Visual
                Dashboard" gets green highlight/active class ‚Üí Sidebar rendered
                on left side ‚Üí User clicks "Security Dashboard" ‚Üí
                window.location.href changes to "security.html" ‚Üí Page navigates
              </div>
              <div class="workflow-step">
                <strong>Mobile behavior:</strong> On screens &lt;768px, sidebar
                hidden by default, hamburger (‚ò∞) appears, clicking slides
                sidebar from left with animation
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üîò renderThemeToggle() - Theme Button Creator:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Creates and displays the sun/moon
                theme switcher button in top-right corner
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Reads currentTheme variable (set from
                localStorage or defaults to "dark")
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Determines if theme is light: const
                isLight = (currentTheme === "light")
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> IF isLight is true ‚Üí Shows moon SVG
                icon (suggests "click to go dark")
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> IF isLight is false ‚Üí Shows sun SVG
                icon (suggests "click to go light")
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Creates &lt;button
                onclick="toggleTheme()"&gt; with appropriate icon SVG code
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Adds aria-label for screen readers
                (accessibility): "Switch to dark mode" or "Switch to light mode"
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Injects button HTML into
                document.getElementById('theme-toggle-container')
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Page loads with dark theme ‚Üí
                renderThemeToggle() runs ‚Üí isLight = false ‚Üí Sun icon button
                created ‚Üí Injected into page header ‚Üí User sees sun button ready
                to click
              </div>
            </div>
          </div>

          <div class="file-item">
            <div class="file-name">üìú js/performance-dashboard.js</div>
            <div class="file-description">
              <strong>Purpose:</strong> Powers the Performance Dashboard
              (index.html). Fetches Lighthouse performance data from backend
              server, displays metrics (Performance, Accessibility, SEO, Best
              Practices scores 0-100), creates interactive charts, and provides
              filtering capabilities.
            </div>
            <div class="workflow-section">
              <div class="workflow-title">
                üì° fetchData() - API Data Retriever:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Makes HTTP request to backend
                server to get ALL performance test results from database
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Uses JavaScript fetch() API to call:
                "https://your-server.com/api/data" (GET request)
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Waits for server response (async
                operation using await keyword)
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Checks response.ok (true if HTTP status
                200-299, false if 400/500 errors)
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> IF not ok: throws new Error with status
                code
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Converts response to JSON: await
                response.json() returns array of objects
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Stores result in global variable:
                allData = [test1, test2, test3...] each with {performance: 85,
                accessibility: 92, ...}
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Calls applyFiltersAndRender() to
                process data and display on screen
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Calls hideLoading() to remove loading
                spinner/skeleton
              </div>
              <div class="workflow-step">
                <strong>Error Handling:</strong> try-catch block catches network
                errors ‚Üí console.error logs it ‚Üí displays "Failed to load data"
                message to user
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Page loads ‚Üí fetchData() executes ‚Üí
                Sends GET to /api/data ‚Üí Server returns array of 87 test results
                ‚Üí Stored in allData ‚Üí applyFiltersAndRender() called ‚Üí Dashboard
                populates
              </div>
              <div class="workflow-step">
                <strong>Data structure:</strong> [{id: 1, performance: 85,
                accessibility: 92, seo: 88, best_practice: 90, device_type:
                "desktop", test_name: "Homepage", url: "https://site.com",
                created_at: "2025-01-15"}...]
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üìä renderKPICards() - Summary Cards Display:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Creates 4 colorful summary cards
                at top of dashboard showing AVERAGE scores across all tests
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Groups test results by test_name using
                reduce(): {"Homepage": [test1, test2], "About Page": [test3,
                test4]}
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> For each group, finds LATEST test (most
                recent created_at date) using reduce and Date comparison
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Creates array of latest results:
                [homepageLatest, aboutLatest, contactLatest...]
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Calculates average Performance: sum all
                performance scores √∑ count = avgPerformance
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Calculates average SEO score the same
                way
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Calculates average Accessibility score
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Calculates average Best Practices score
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Rounds each average to 1 decimal place:
                .toFixed(1) so "85.5%" not "85.5234567%"
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Creates array of card objects: [{title:
                "Performance", score: 85.5, icon: "‚ö°"}, ...]
              </div>
              <div class="workflow-step">
                <strong>Step 10:</strong> Loops through cards and generates HTML
                with template literals
              </div>
              <div class="workflow-step">
                <strong>Step 11:</strong> Calls getScoreColor(score) function:
                returns green if 80-100, yellow if 50-79, red if 0-49
              </div>
              <div class="workflow-step">
                <strong>Step 12:</strong> Applies color to score text: &lt;p
                style="color: green"&gt;85.5%&lt;/p&gt;
              </div>
              <div class="workflow-step">
                <strong>Step 13:</strong> Injects all 4 cards into DOM:
                document.getElementById('kpi-cards-container').innerHTML =
                cardsHTML
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> 20 test results ‚Üí 10 unique test names
                ‚Üí Get latest of each ‚Üí Avg Performance =
                (85+90+78+92+88+95+82+87+91+84)/10 = 87.2% ‚Üí Green card displays
                "‚ö° Performance 87.2%"
              </div>
              <div class="workflow-step">
                <strong>Why "latest only":</strong> Avoids skewing averages with
                old test data, shows current state of site performance
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üéõÔ∏è renderGlobalFilters() - Filter Interface Builder:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Creates search box and dropdown
                menus allowing users to filter which test results are displayed
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Extracts unique URIs from allData:
                [...new Set(allData.map(item => item.url))] removes duplicates
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Extracts unique Products/Brands:
                [...new Set(allData.map(item => item.brand))]
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Extracts unique Device Types: [...new
                Set(allData.map(item => item.device_type))] gives ["desktop",
                "mobile", "tablet"]
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Creates search input: &lt;input
                type="text" id="search-input" placeholder="Search..."&gt;
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Creates URI dropdown: &lt;select
                id="uri-filter"&gt;&lt;option value=""&gt;All
                URIs&lt;/option&gt; + loop through URIs to add options
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Creates Product dropdown: &lt;select
                id="product-filter"&gt; same pattern
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Creates Device dropdown: &lt;select
                id="device-filter"&gt; same pattern
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Creates "Clear All Filters" button with
                red background
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Injects all filter HTML into
                #global-filters container
              </div>
              <div class="workflow-step">
                <strong>Step 10:</strong> Attaches event listeners:
                document.getElementById('search-input').addEventListener('input',
                function)
              </div>
              <div class="workflow-step">
                <strong>Step 11:</strong> On input/change ‚Üí Updates filters
                object {searchQuery: "homepage", uriFilter: "", deviceFilter:
                "mobile"...}
              </div>
              <div class="workflow-step">
                <strong>Step 12:</strong> Calls applyFiltersAndRender() to
                re-filter and re-display data
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> User selects "Mobile" from device
                dropdown ‚Üí onChange event fires ‚Üí filters.deviceFilter =
                "mobile" ‚Üí applyFiltersAndRender() called ‚Üí Only mobile test
                results shown in table/charts
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üìà renderMetricsContainer() - Interactive Charts Creator:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Uses Highcharts library to create
                line/bar charts showing performance trends over time
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Takes filteredData array and sorts by
                created_at date (oldest to newest)
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Creates Highcharts configuration object
                with type: 'line'
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Configures chart title: "Performance
                Metrics Over Time"
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Sets up X-axis categories: test names
                or dates ["Homepage", "About", "Contact"...]
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Sets up Y-axis: min=0, max=100,
                title="Score"
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Creates 4 data series (one per metric)
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Series 1 - Performance: {name:
                "Performance", data: [85, 90, 88...], color: "#3b82f6"}
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Series 2 - Accessibility: {name:
                "Accessibility", data: [92, 94, 91...], color: "#22c55e"}
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Series 3 - SEO: similar structure
              </div>
              <div class="workflow-step">
                <strong>Step 10:</strong> Series 4 - Best Practices: similar
                structure
              </div>
              <div class="workflow-step">
                <strong>Step 11:</strong> Configures tooltip: shows score value
                when hovering over data points
              </div>
              <div class="workflow-step">
                <strong>Step 12:</strong> Applies theme colors using CSS
                variables: var(--text-primary) for labels
              </div>
              <div class="workflow-step">
                <strong>Step 13:</strong> Calls
                Highcharts.chart('metrics-container', options) to render chart
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> 30 test results over 2 weeks ‚Üí Chart
                rendered ‚Üí 4 colored lines ‚Üí Performance line (blue) shows
                upward trend from 75 to 90 ‚Üí User hovers over point ‚Üí Tooltip
                shows "Performance: 85"
              </div>
              <div class="workflow-step">
                <strong>Interactive features:</strong> Click legend to show/hide
                series, zoom by dragging, export as PNG/PDF
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üìã renderDataTable() - Paginated Table Generator:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Creates detailed HTML table
                showing every test result with pagination (shows 10 rows per
                page)
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Gets tableState object: {currentPage:
                1, rowsPerPage: 10, deviceFilter: "All", showLatest: false}
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Starts with allData, applies device
                filter if selected
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> IF "Show Latest Only" checked: groups
                by test_name, keeps newest result per test
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Applies brand filter if selected
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Calculates totalPages:
                Math.ceil(filteredData.length / rowsPerPage) e.g. 87 results /
                10 = 9 pages
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Slices data for current page:
                startIndex = (currentPage-1) * rowsPerPage, endIndex =
                startIndex + rowsPerPage
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Example: Page 2 ‚Üí startIndex=10,
                endIndex=20 ‚Üí shows results[10] through results[19]
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Creates table HTML:
                &lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Test
                Name&lt;/th&gt;&lt;th&gt;Device&lt;/th&gt;...&lt;/tr&gt;&lt;/thead&gt;
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Loops through current page data:
                filteredData.slice(startIndex, endIndex).map(item => ...)
              </div>
              <div class="workflow-step">
                <strong>Step 10:</strong> For each row: creates &lt;tr&gt; with
                cells for test name, device, performance score, accessibility,
                etc.
              </div>
              <div class="workflow-step">
                <strong>Step 11:</strong> Colors score cells: calls
                getScoreColor(score) ‚Üí &lt;td style="color:
                green"&gt;85&lt;/td&gt;
              </div>
              <div class="workflow-step">
                <strong>Step 12:</strong> Formats dates: new
                Date(item.created_at).toLocaleDateString() ‚Üí "1/15/2025"
              </div>
              <div class="workflow-step">
                <strong>Step 13:</strong> Creates pagination controls:
                &lt;button&gt;Previous&lt;/button&gt;
                &lt;button&gt;1&lt;/button&gt; &lt;button&gt;2&lt;/button&gt;...
                &lt;button&gt;Next&lt;/button&gt;
              </div>
              <div class="workflow-step">
                <strong>Step 14:</strong> Disables "Previous" if on page 1,
                disables "Next" if on last page
              </div>
              <div class="workflow-step">
                <strong>Step 15:</strong> Attaches click handlers to pagination
                buttons ‚Üí updates tableState.currentPage ‚Üí calls renderTable()
                again
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> 87 results, 10 per page = 9 pages ‚Üí
                User on page 1 seeing rows 1-10 ‚Üí Clicks "Next" ‚Üí currentPage
                becomes 2 ‚Üí Table rerenders showing rows 11-20
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üîÑ applyFiltersAndRender() - Master Orchestrator Function:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Central function that applies ALL
                filters and re-renders ALL dashboard components (cards, charts,
                table)
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Gets current filter values from filters
                object: {searchQuery, uriFilter, productFilter, deviceFilter,
                startDate, endDate}
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Starts with full dataset: let filtered
                = allData
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Applies search filter: filtered =
                filtered.filter(item => item.test_name.includes(searchQuery))
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Applies URI filter: IF uriFilter not
                empty ‚Üí filtered = filtered.filter(item => item.url ===
                uriFilter)
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Applies product filter: IF
                productFilter not empty ‚Üí keep only matching brand/product
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Applies device filter: IF deviceFilter
                not empty ‚Üí keep only matching device_type
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Applies date range: IF startDate set ‚Üí
                filtered = filtered.filter(item => new Date(item.created_at) >=
                new Date(startDate))
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Applies end date: IF endDate set ‚Üí
                similar filtering
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Stores result in global variable:
                filteredData = filtered
              </div>
              <div class="workflow-step">
                <strong>Step 10:</strong> Calls renderKPICards() ‚Üí recalculates
                and displays average scores with filtered data
              </div>
              <div class="workflow-step">
                <strong>Step 11:</strong> Calls renderGlobalFilters() ‚Üí updates
                filter dropdowns (may have fewer options now)
              </div>
              <div class="workflow-step">
                <strong>Step 12:</strong> Calls renderMetricsContainer() ‚Üí
                redraws charts with filtered data
              </div>
              <div class="workflow-step">
                <strong>Step 13:</strong> Calls renderDataTable() ‚Üí updates
                table with filtered results
              </div>
              <div class="workflow-step">
                <strong>Example Flow:</strong> 100 total results ‚Üí User types
                "homepage" in search ‚Üí Step 3 filters to 8 results ‚Üí User
                selects "Mobile" device ‚Üí Step 6 filters to 3 results ‚Üí
                filteredData = [3 items] ‚Üí All cards/charts/table update to show
                only these 3 results
              </div>
              <div class="workflow-step">
                <strong>Performance note:</strong> This function runs every time
                ANY filter changes, so it's optimized to be fast even with 1000+
                results
              </div>
            </div>
          </div>

          <div class="file-item">
            <div class="file-name">üìú js/visual-dashboard.js</div>
            <div class="file-description">
              <strong>Purpose:</strong> Powers Visual Testing Dashboard
              (visual.html). Manages visual regression tests - comparing
              baseline screenshots with current screenshots to detect UI
              changes. Shows which tests passed (images match) or failed
              (differences found).
            </div>
            <div class="workflow-section">
              <div class="workflow-title">
                üì° fetchData() - Visual Test Data Retriever:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Fetches visual regression test
                results from backend API to see which UI tests passed or failed
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Calls
                fetch("https://server.com/api/visual/data") to get visual test
                results
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Checks response.ok ‚Üí if false (404/500
                error) throws error
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Converts response to JSON: await
                response.json()
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> IF empty array returned [] ‚Üí Shows
                special message: "Seems like you ran baseline image setup..."
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> IF data exists ‚Üí Stores in global
                testData = [{name: "Login Button", status: "passed", device:
                "desktop", brand: "Chrome", imageUrl: "..."}, ...]
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Calls applyFiltersAndRender() to
                display data
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Calls hideLoading() to remove skeleton
                loader
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Page loads ‚Üí fetchData() runs ‚Üí GET
                /api/visual/data ‚Üí Returns 15 test results ‚Üí 10 passed, 5 failed
                ‚Üí testData populated ‚Üí Dashboard shows results
              </div>
              <div class="workflow-step">
                <strong>Data structure:</strong> [{name: "homepage-hero",
                status: "passed", device: "mobile", brand: "iPhone12", imageUrl:
                "diff.png", created_at: "2025-01-15"}...]
              </div>
              <div class="workflow-step">
                <strong>Empty state:</strong> If [] returned, means baseline
                images captured but validation not run yet
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üìã renderVisualCards() - Test Summary Cards:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Creates 3 cards at top showing:
                Total Tests, Passed Tests (green), Failed Tests (red)
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Counts passed tests:
                testData.filter(test => test.status === "passed").length
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Counts failed tests:
                testData.filter(test => test.status === "failed").length
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Calculates total: passed + failed
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Creates cards array: [{title: "Total
                Tests", value: 15, color: "blue", icon: "totalIcon.png"},
                {title: "Passed", value: 10, color: "green"}, {title: "Failed",
                value: 5, color: "red"}]
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Loops through cards and generates HTML
                with colored values
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Each card has: Icon image, Title text,
                Large colored number
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Injects HTML into
                #visual-cards-container
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> 15 total tests, 10 passed, 5 failed ‚Üí
                3 cards displayed ‚Üí Total card shows "15" in blue ‚Üí Passed shows
                "10" in green ‚Üí Failed shows "5" in red
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                ü•ß renderPieChart() - Pass/Fail Pie Chart:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Creates circular pie chart
                visualizing test pass/fail ratio using Highcharts
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Counts passed: testData.filter(t =>
                t.status === "passed").length
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Counts failed: testData.filter(t =>
                t.status === "failed").length
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Creates Highcharts config: {chart:
                {type: "pie"}, title: {text: "Visual Test Result Breakdown"}}
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Configures data series: [{name:
                "Passed", y: passedCount, color: "green"}, {name: "Failed", y:
                failedCount, color: "red"}]
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Enables data labels showing percentage:
                "Passed: 66.7%", "Failed: 33.3%"
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Makes slices clickable ‚Üí clicking
                "Failed" slice filters table to show only failed tests
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Configures tooltip: hovering shows
                "Passed: 10 test(s)"
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Applies theme colors for
                text/background using CSS variables
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Calls
                Highcharts.chart('pie-chart-container', options) to render
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> 10 passed, 5 failed ‚Üí Pie chart shows
                ‚Üí Green slice (66.7%) labeled "Passed: 66.7%" ‚Üí Red slice
                (33.3%) ‚Üí User clicks red slice ‚Üí filters.status = "failed" ‚Üí
                Table below shows only 5 failed tests
              </div>
              <div class="workflow-step">
                <strong>Interactive:</strong> Click legend to hide/show slices,
                click slice to filter results
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üìã renderTestResults() - Test Results Table:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Displays table of all test
                results with columns: Test Name, Brand, Device, Difference Image
                button, Status
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Checks IF testData is empty array [] ‚Üí
                Shows message: "No test data available. Seems like you ran
                baseline setup..."
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Checks IF filteredData is empty (after
                filters applied) ‚Üí Shows: "No test results match current
                filters"
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Creates table header: &lt;div
                class="column-labels"&gt;&lt;span&gt;Test
                Name&lt;/span&gt;&lt;span&gt;Brand&lt;/span&gt;...&lt;/div&gt;
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Loops through filteredData:
                filteredData.map((test, index) => ...)
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> For each test creates row: &lt;div
                class="test-card-row"&gt; with 5 cells
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Cell 1: Test name (e.g., "Login Button
                Screenshot")
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Cell 2: Brand (e.g., "Chrome",
                "Safari") or "N/A" if missing
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Cell 3: Device (e.g., "desktop",
                "mobile")
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Cell 4: IF status === "failed" ‚Üí Shows
                button "View Image" with test.imageUrl data attribute, ELSE
                empty
              </div>
              <div class="workflow-step">
                <strong>Step 10:</strong> Cell 5: Status text colored green for
                "passed", red for "failed", capitalized
              </div>
              <div class="workflow-step">
                <strong>Step 11:</strong> Attaches click handlers to all "View
                Image" buttons
              </div>
              <div class="workflow-step">
                <strong>Step 12:</strong> When clicked ‚Üí stores imageUrl in
                uiState.modalImage ‚Üí calls renderModal()
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> 5 failed tests ‚Üí Table shows 5 rows ‚Üí
                Each has "View Image" button ‚Üí User clicks button on row 2 ‚Üí
                Modal opens showing difference image highlighting UI change
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üì∏ fetchScreenshotList() - Screenshot Path Retriever:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Fetches list of ALL screenshot
                file paths from S3/Supabase storage (baseline images)
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Sets uiState.loadingScreenshots = true
                to show loading spinner
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Calls
                fetch("https://server.com/api/baseline/data") to get screenshot
                metadata
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Converts response to JSON: returns
                array like ["screenshots/desktop/homepage.png",
                "screenshots/mobile/login.png", ...]
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Groups screenshots by device: {Desktop:
                [path1, path2], Mobile: [path3, path4], Tablet: [path5]}
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Uses reduce() to create grouped object
                based on device type detected in path
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Stores result in global screenshotPaths
                = groupedObject
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Sets uiState.loadingScreenshots = false
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Calls renderScreenshotList() to display
                the grouped screenshots
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> User clicks "Show Screenshot Paths" ‚Üí
                fetchScreenshotList() runs ‚Üí GET /api/baseline/data ‚Üí Returns 45
                screenshot paths ‚Üí Groups into {Desktop: 15 paths, Mobile: 20
                paths, Tablet: 10 paths} ‚Üí screenshotPaths updated ‚Üí
                renderScreenshotList() called
              </div>
              <div class="workflow-step">
                <strong>Use case:</strong> Allows QA to review all baseline
                images before running validation tests
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üñºÔ∏è renderScreenshotList() - Screenshot Gallery Display:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Creates expandable sections
                showing all baseline screenshot paths organized by device type
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Checks IF uiState.showScreenshots is
                false ‚Üí hides container and returns early
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> IF loadingScreenshots is true ‚Üí shows
                loading spinner
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> IF screenshotPaths is empty ‚Üí shows "No
                screenshot paths available" message
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Loops through screenshotPaths object:
                Object.entries(screenshotPaths).map(([device, paths]) => ...)
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> For each device group creates section:
                &lt;div class="screenshot-section"&gt;&lt;h3&gt;Desktop
                Screenshots&lt;/h3&gt;...&lt;/div&gt;
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Inside section, creates grid: &lt;div
                class="screenshot-grid"&gt;
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Loops through paths array:
                paths.map(path => ...)
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> For each path: extracts filename using
                path.split('/').pop()
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Removes "/screenshots" substring from
                path: path.replace('/screenshots', '')
              </div>
              <div class="workflow-step">
                <strong>Step 10:</strong> Constructs full URL:
                `https://bucket.s3.amazonaws.com/${cleanPath}`
              </div>
              <div class="workflow-step">
                <strong>Step 11:</strong> Creates card: &lt;div
                class="screenshot-card"&gt;&lt;div
                class="file-name"&gt;homepage.png&lt;/div&gt;&lt;div
                class="file-path"&gt;/desktop/homepage.png&lt;/div&gt;&lt;a
                href="fullUrl"&gt;üîó Open Screenshot&lt;/a&gt;&lt;/div&gt;
              </div>
              <div class="workflow-step">
                <strong>Step 12:</strong> Link opens in new tab
                (target="_blank") showing actual image
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> screenshotPaths = {Desktop:
                ["desktop/home.png", "desktop/login.png"], Mobile:
                ["mobile/home.png"]} ‚Üí Renders 2 sections ‚Üí Desktop section has
                2 cards ‚Üí Mobile section has 1 card ‚Üí User clicks "üîó Open" on
                desktop/home.png ‚Üí New tab opens showing baseline image
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üñºÔ∏è renderModal() - Image Viewer Modal:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Creates popup modal (overlay) to
                display difference images when user clicks "View Image" on
                failed test
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Checks IF uiState.modalImage is null ‚Üí
                hides modal container and returns
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> IF modalImage has URL ‚Üí creates modal
                HTML
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Modal structure: &lt;div
                class="modal-overlay"&gt; (semi-transparent black background)
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Inside overlay: &lt;div
                class="modal-content"&gt; (white box with image)
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Creates close button: &lt;button
                class="close-btn"&gt;√ó&lt;/button&gt;
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Creates image: &lt;img
                src="{uiState.modalImage}" alt="Difference Image"
                loading="lazy"&gt;
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Image shows visual diff: baseline
                screenshot overlaid with current screenshot, differences
                highlighted in color
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Injects modal HTML into
                #image-modal-container
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Attaches click handler to close button
                ‚Üí sets uiState.modalImage = null ‚Üí calls renderModal() to hide
              </div>
              <div class="workflow-step">
                <strong>Step 10:</strong> Attaches click handler to overlay
                background ‚Üí clicking outside image closes modal
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> User clicks "View Image" on failed
                "Login Button" test ‚Üí uiState.modalImage =
                "https://storage.com/diff-login.png" ‚Üí renderModal() runs ‚Üí
                Screen darkens ‚Üí Image popup appears showing button moved 5px
                down (highlighted) ‚Üí User clicks X or background ‚Üí Modal closes
              </div>
              <div class="workflow-step">
                <strong>Diff image contents:</strong> Shows 3 images: Baseline
                (expected), Current (actual), Diff (highlights changes in
                red/yellow)
              </div>
            </div>
          </div>

          <div class="file-item">
            <div class="file-name">üìú js/security-dashboard.js</div>
            <div class="file-description">
              <strong>Purpose:</strong> Powers Security Vulnerability Dashboard
              (security.html). Parses security scan reports from tools like ZAP
              (Zed Attack Proxy), displays vulnerabilities categorized by risk
              level (High/Medium/Low), shows affected URLs, and provides
              remediation guidance.
            </div>
            <div class="workflow-section">
              <div class="workflow-title">
                üìö fetchReportFiles() - Security Report File Loader:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Discovers and loads HTML security
                report files from the reports/ directory (generated by ZAP or
                other security scanners)
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Attempts to fetch directory listing
                from "reports/" path
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Parses HTML directory index page using
                DOMParser
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Extracts all &lt;a&gt; tags:
                doc.querySelectorAll('a')
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Filters for .html files:
                links.filter(link => link.href.endsWith('.html'))
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Creates array of report filenames:
                ["security-report-homepage.html", "security-report-login.html",
                ...]
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> IF directory listing fails, tries
                Method 2: fetch reports/manifest.json
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> IF manifest.json exists ‚Üí returns {
                files: ["report1.html", "report2.html"] }
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> IF both fail, tries Method 3: Attempts
                to fetch reports with predictable names (security-report-1.html,
                2.html...)
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> For each attempt: sends HEAD request to
                check if file exists
              </div>
              <div class="workflow-step">
                <strong>Step 10:</strong> Stops after 3 consecutive failures
                (assumes no more reports)
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Dashboard loads ‚Üí fetchReportFiles()
                runs ‚Üí Finds 5 .html files in reports/ ‚Üí Returns array of
                filenames ‚Üí Each file fetched and parsed
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üóíÔ∏è parseReport() - HTML Report Parser:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Takes raw HTML security report
                and extracts vulnerability data into JavaScript objects
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Creates DOMParser instance and parses
                HTML string into Document object
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Extracts report name from &lt;title&gt;
                tag
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Extracts execution date from &lt;h3&gt;
                tag containing "Generated on"
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Finds all vulnerability tables:
                doc.querySelectorAll('table.results')
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> For each table: extracts risk level
                from &lt;th class="risk-high"&gt;
                (High/Medium/Low/Informational)
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Extracts vulnerability name from second
                &lt;th&gt; tag
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Maps risk text to number: {High: 3,
                Medium: 2, Low: 1, Informational: 0} for sorting
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Loops through table rows:
                table.querySelectorAll('tr')
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Extracts fields: Description (HTML
                content), Solution (how to fix), Reference (links to CVE/CWE),
                CWE ID, WASC ID, Plugin ID
              </div>
              <div class="workflow-step">
                <strong>Step 10:</strong> Counts vulnerable URLs/instances:
                finds all URL fields in table
              </div>
              <div class="workflow-step">
                <strong>Step 11:</strong> For each instance: stores {url:
                "https://site.com/page", method: "GET", evidence:
                "&lt;script&gt;alert(1)&lt;/script&gt;", attack: "XSS payload"}
              </div>
              <div class="workflow-step">
                <strong>Step 12:</strong> Creates alert object: {name,
                riskLevel, description, solution, references, cweId, wascId,
                pluginId, instances: [...]}
              </div>
              <div class="workflow-step">
                <strong>Step 13:</strong> Returns {reportName, executionDate,
                alerts: [alert1, alert2, ...]}
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Parses report with 3 vulnerabilities ‚Üí
                High: SQL Injection (5 URLs affected) ‚Üí Medium: Missing Security
                Headers (15 URLs) ‚Üí Low: Cookie without SameSite (20 URLs) ‚Üí
                Returns structured data object
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üìä renderSecurityKPIs() - Vulnerability Summary Cards:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Creates 4 summary cards showing
                counts of High/Medium/Low/Informational vulnerabilities
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Filters allAlerts for High risk:
                allAlerts.filter(alert => alert.risk === "High").length
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Counts Medium risk alerts same way
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Counts Low risk and Informational
                alerts
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Creates card array: [{title: "High
                Risk", count: 3, color: "#ef4444" (red), icon: "üö®"}, ...]
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Generates HTML for each card with large
                colored number
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Makes cards clickable: clicking "High
                Risk" card filters to show only High risk alerts
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> 3 High, 7 Medium, 12 Low, 5
                Informational ‚Üí 4 cards displayed ‚Üí High Risk card shows "3" in
                red with üö® icon
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üìâ renderAlertsChart() - Vulnerability Distribution Chart:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Creates bar chart using
                Highcharts showing vulnerability counts by risk level
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Counts alerts per risk level (same as
                KPI cards)
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Creates Highcharts config: {chart:
                {type: "column"}, xAxis: {categories: ["High", "Medium", "Low",
                "Informational"]}}
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Sets Y-axis: title="Number of
                Vulnerabilities", min=0
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Creates data series: {name:
                "Vulnerabilities", data: [3, 7, 12, 5], colors: [red, orange,
                yellow, blue]}
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Each bar colored according to risk:
                High=red, Medium=orange, Low=yellow, Info=blue
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Makes bars clickable: clicking bar
                filters alerts list
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Chart shows 4 bars ‚Üí High bar at 3
                (red) ‚Üí Medium at 7 (orange) ‚Üí Low at 12 (yellow) ‚Üí Info at 5
                (blue)
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üìú renderAlertsList() - Vulnerability List:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Displays scrollable list of all
                vulnerabilities on left side, clicking one shows details on
                right
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Takes filteredAlerts array (after
                filters applied)
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Sorts by risk level: High first, then
                Medium, Low, Informational
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> For each alert creates list item:
                &lt;div class="alert-item" data-index="0"&gt;
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Shows risk badge: &lt;span
                class="risk-badge high"&gt;HIGH&lt;/span&gt;
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Shows alert name: "SQL Injection"
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Shows instance count: "5 instances
                found"
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Adds "active" class to currently
                selected alert (highlights it)
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Attaches click handler: clicking alert
                ‚Üí updates selectedAlertIndex ‚Üí calls renderAlertDetail()
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> 15 alerts ‚Üí List shows all 15 ‚Üí First
                3 have red HIGH badges ‚Üí User clicks 2nd alert "XSS" ‚Üí
                selectedAlertIndex = 1 ‚Üí Detail panel updates to show XSS
                details
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üìñ renderAlertDetail() - Vulnerability Details Panel:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Shows comprehensive information
                about selected vulnerability in right panel: description,
                solution, references, CWE/WASC IDs
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Gets selected alert: const alert =
                filteredAlerts[selectedAlertIndex]
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Creates header with risk badge and name
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Shows Description section with HTML
                content (may include code examples)
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Shows Solution section explaining how
                to fix the vulnerability
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Shows References section with clickable
                links to CVE database, OWASP articles
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Shows CWE ID (Common Weakness
                Enumeration): e.g., "CWE-79: Cross-site Scripting"
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Shows WASC ID (Web Application Security
                Consortium)
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Shows Plugin ID from scanning tool
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Creates "View Instances" button to see
                all affected URLs
              </div>
              <div class="workflow-step">
                <strong>Step 10:</strong> When clicked ‚Üí calls
                renderAlertInstances() to show detailed instance list below
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> SQL Injection selected ‚Üí Detail shows:
                Description (what SQL injection is) ‚Üí Solution (use
                parameterized queries) ‚Üí References (link to OWASP SQL Injection
                page) ‚Üí CWE-89 ‚Üí Button shows "View 5 Instances"
              </div>
            </div>
          </div>

          <div class="file-item">
            <div class="file-name">üìú js/auth.js</div>
            <div class="file-description">
              <strong>Purpose:</strong> Handles user authentication on
              login.html page. Validates credentials, creates sessions, and
              manages login/logout flows. Uses sessionStorage to maintain
              logged-in state.
            </div>
            <div class="workflow-section">
              <div class="workflow-title">üîë login() - User Login Handler:</div>
              <div class="workflow-step">
                <strong>What it does:</strong> Processes login form submission,
                validates credentials, and creates authenticated session
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Attaches event listener to login form:
                document.getElementById('login-form').addEventListener('submit',
                function)
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Prevents default form submission:
                event.preventDefault() (stops page reload)
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Gets username from input:
                document.getElementById('username').value
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Gets password from input:
                document.getElementById('password').value
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Trims whitespace: username.trim(),
                password.trim()
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Checks if fields empty: if (!username
                || !password) ‚Üí shows error message
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Calls validateCredentials(username,
                password)
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> IF validation fails ‚Üí displays error:
                "Invalid username or password" in red text
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> IF validation succeeds ‚Üí
                sessionStorage.setItem('isAuthenticated', 'true')
              </div>
              <div class="workflow-step">
                <strong>Step 10:</strong> Stores username:
                sessionStorage.setItem('username', username)
              </div>
              <div class="workflow-step">
                <strong>Step 11:</strong> Redirects to dashboard:
                window.location.href = 'index.html'
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> User enters username="admin",
                password="test123" ‚Üí Clicks Login ‚Üí validateCredentials()
                returns true ‚Üí sessionStorage updated ‚Üí User redirected to
                Performance Dashboard
              </div>
              <div class="workflow-step">
                <strong>Security note:</strong> In production, credentials
                should be validated against backend API, not client-side. This
                is demo authentication.
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üö™ logout() - User Logout Handler:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Clears user session and returns
                to login page
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Typically called from logout button in
                dashboard header
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Removes authentication flag:
                sessionStorage.removeItem('isAuthenticated')
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Removes stored username:
                sessionStorage.removeItem('username')
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> OR clears entire sessionStorage:
                sessionStorage.clear()
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Redirects to login:
                window.location.href = 'login.html'
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Browser navigates to login page, user
                must login again to access dashboards
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> User clicks "Logout" in header ‚Üí
                logout() executes ‚Üí sessionStorage cleared ‚Üí Redirected to
                login.html ‚Üí Attempting to access index.html now redirects back
                to login (via checkAuth())
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                ‚úÖ validateCredentials() - Credential Validator:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Checks if provided
                username/password match expected values (hardcoded for demo)
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Receives username and password as
                parameters
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Compares against hardcoded valid
                credentials (demo only)
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Example check: if (username === "admin"
                && password === "password123") return true
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> May check against multiple valid user
                accounts
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Returns true if match found, false
                otherwise
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> In production version: would send AJAX
                request to backend API endpoint like POST /api/login
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Backend would check database, hash
                passwords, return JWT token
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Token stored in
                sessionStorage/localStorage, sent with future API requests
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> validateCredentials("admin",
                "test123") ‚Üí Checks if admin/test123 is valid ‚Üí Returns true ‚Üí
                Login proceeds
              </div>
              <div class="workflow-step">
                <strong>Production upgrade:</strong> Replace with: await
                fetch('/api/login', {method: 'POST', body:
                JSON.stringify({username, password})}) ‚Üí Check response.ok ‚Üí
                Store returned JWT token
              </div>
            </div>
          </div>
        </div>

        <!-- Backend Files -->
        <div class="section-card">
          <h2 class="section-title">üñ•Ô∏è Backend & Utility Files</h2>

          <div class="file-item">
            <div class="file-name">üìú backend/server.mjs</div>
            <div class="file-description">
              <strong>Purpose:</strong> Express.js backend server that acts as
              the "middleman" between frontend dashboards and SQLite databases.
              Provides REST API endpoints to fetch test data, manages database
              connections, serves static dashboard files, and handles CORS for
              secure cross-origin requests.
            </div>
            <div class="workflow-section">
              <div class="workflow-title">
                üöÄ Server Initialization & Setup:
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Imports Express framework: import
                express from 'express'
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Imports Better-sqlite3: import Database
                from 'better-sqlite3' (fast synchronous SQLite library)
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Imports CORS middleware: import cors
                from 'cors' (allows frontend on different port to access API)
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Imports path and fs modules for file
                operations
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Creates Express app: const app =
                express()
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Enables CORS: app.use(cors()) - allows
                requests from any origin
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Enables JSON parsing:
                app.use(express.json()) - parses JSON request bodies
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Serves static files:
                app.use(express.static('dashboard')) - serves HTML/CSS/JS files
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Opens performance database: const
                performanceDb = new Database('lighthouse_performance.db')
              </div>
              <div class="workflow-step">
                <strong>Step 10:</strong> Opens visual test database: const
                visualDb = new Database('visual_test.db')
              </div>
              <div class="workflow-step">
                <strong>Step 11:</strong> Sets up graceful shutdown:
                process.on('SIGINT', () => close databases)
              </div>
              <div class="workflow-step">
                <strong>Step 12:</strong> Starts server: app.listen(3000, () =>
                console.log('Server running on port 3000'))
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Run "node backend/server.mjs" ‚Üí Server
                starts ‚Üí Connects to 2 databases ‚Üí Listens on
                http://localhost:3000 ‚Üí Ready to receive API requests
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üìà GET /api/data - Performance Data Endpoint:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Fetches ALL performance test
                results from lighthouse_performance.db and returns as JSON array
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Frontend makes request:
                fetch('http://localhost:3000/api/data')
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Express routes request to handler
                function: app.get('/api/data', (req, res) => {...})
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Checks if database connection exists:
                if (!performanceDb) return 503 error
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Prepares SQL query: "SELECT * FROM
                performance_matrix ORDER BY created_at DESC"
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Executes query: const results =
                performanceDb.prepare(query).all()
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> .all() returns array of row objects:
                [{id: 1, performance: 85, accessibility: 92, ...}, ...]
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Logs to console: console.log(`Retrieved
                ${results.length} records`)
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Sends JSON response: res.json(results)
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Frontend receives response and parses
                JSON
              </div>
              <div class="workflow-step">
                <strong>Error Handling:</strong> try-catch block catches
                database errors ‚Üí res.status(500).json({error: "Failed to fetch
                data"})
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Frontend calls /api/data ‚Üí Server
                queries database ‚Üí Returns 87 test results ‚Üí Response: [{id:1,
                performance:85, seo:88, device_type:"desktop",
                test_name:"Homepage", url:"https://site.com",
                created_at:"2025-01-15 10:30:00"}, ...]
              </div>
              <div class="workflow-step">
                <strong>Database table structure:</strong>
                performance_matrix(id, performance, accessibility,
                best_practice, seo, device_type, test_name, url, created_at)
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üñºÔ∏è GET /api/visual/data - Visual Test Data Endpoint:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Fetches visual regression test
                results from visual-matrix table in visual_test.db
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Frontend calls
                fetch('http://localhost:3000/api/visual/data')
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Express routes to handler:
                app.get('/api/visual/data', (req, res) => {...})
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Validates visualDb connection exists
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Checks if "visual-matrix" table exists:
                SELECT name FROM sqlite_master WHERE type='table' AND
                name='visual-matrix'
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> IF table doesn't exist ‚Üí returns empty
                array [] with status 200 (not an error, just no data yet)
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> IF table exists but empty ‚Üí returns
                empty array [] with status 200
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> IF table has data ‚Üí Queries: "SELECT *
                FROM [visual-matrix] ORDER BY created_at DESC"
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Note: Uses [visual-matrix] with
                brackets because table name contains hyphen
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Returns JSON: [{name: "login-button",
                status: "passed", device: "desktop", brand: "Chrome", imageUrl:
                "diff.png", created_at: "2025-01-15"}, ...]
              </div>
              <div class="workflow-step">
                <strong>Empty state handling:</strong> Returns [] when baseline
                images captured but validation tests not run yet ‚Üí Frontend
                shows message "Seems like you ran baseline image setup..."
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Frontend calls /api/visual/data ‚Üí
                Table exists with 15 results ‚Üí Server returns array ‚Üí 10 passed,
                5 failed ‚Üí Frontend populates dashboard
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üì∏ GET /api/baseline/data - Baseline Screenshot Data Endpoint:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Fetches baseline screenshot
                metadata from "baseline" table (screenshot paths, device types)
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Frontend calls
                fetch('http://localhost:3000/api/baseline/data')
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Routes to handler function
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Checks if "baseline" table exists in
                visualDb
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> IF table doesn't exist ‚Üí returns empty
                array [] (baseline not captured yet)
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> IF table exists ‚Üí Queries: "SELECT *
                FROM baseline ORDER BY created_at DESC"
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Returns array of baseline image
                records: [{path: "desktop/homepage.png", device: "desktop",
                created_at: "2025-01-15"}, ...]
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Frontend uses this data to display
                screenshot gallery grouped by device
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> User clicks "Show Screenshot Paths"
                button ‚Üí Frontend calls /api/baseline/data ‚Üí Server returns 45
                screenshot paths ‚Üí Frontend groups by device and displays
                gallery
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">üóÑÔ∏è Static File Serving:</div>
              <div class="workflow-step">
                <strong>What it does:</strong> Serves dashboard HTML, CSS,
                JavaScript files when users access the website
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> app.use(express.static('dashboard'))
                tells Express to serve files from dashboard/ folder
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> When user navigates to
                http://localhost:3000/index.html ‚Üí Express looks in
                dashboard/index.html
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Reads file contents and sends to
                browser with correct Content-Type header
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> HTML files sent with Content-Type:
                text/html
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> CSS files sent with Content-Type:
                text/css
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> JS files sent with Content-Type:
                application/javascript
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Also serves images, fonts, any other
                assets in dashboard/ folder
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> User visits http://localhost:3000/ ‚Üí
                Express serves dashboard/index.html ‚Üí Browser renders page ‚Üí
                Page requests dashboard/css/style.css ‚Üí Express serves it ‚Üí Page
                requests dashboard/js/performance-dashboard.js ‚Üí Express serves
                it
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üîå Database Connection Management:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Manages SQLite database
                connections with proper initialization and cleanup
              </div>
              <div class="workflow-step"><strong>Initialization:</strong></div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Creates database connections when
                server starts: new Database('lighthouse_performance.db')
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Opens file or creates it if doesn't
                exist
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Better-sqlite3 keeps connection open
                for fast queries (synchronous, no callbacks)
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Stores connections in variables:
                performanceDb, visualDb
              </div>
              <div class="workflow-step">
                <strong>Graceful Shutdown:</strong>
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Listens for SIGINT signal (Ctrl+C):
                process.on('SIGINT', handler)
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> When signal received ‚Üí Closes database
                connections: performanceDb.close(), visualDb.close()
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Prevents database corruption from
                abrupt shutdown
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Exits process: process.exit(0)
              </div>
              <div class="workflow-step">
                <strong>Error Handling:</strong> Catches database connection
                errors ‚Üí Logs to console ‚Üí Server continues running with limited
                functionality
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Server starts ‚Üí Opens 2 databases
                successfully ‚Üí Runs for 8 hours serving requests ‚Üí Admin presses
                Ctrl+C ‚Üí SIGINT received ‚Üí Databases closed properly ‚Üí Server
                exits
              </div>
            </div>
          </div>

          <div class="file-item">
            <div class="file-name">üìú utils/helpers.ts</div>
            <div class="file-description">
              <strong>Purpose:</strong> Core testing utilities powering
              Lighthouse performance audits. Contains functions to run audits on
              Desktop/Mobile/Tablet devices, capture performance metrics (CPU,
              memory), store results in SQLite database, and generate visual
              performance charts. Used by all performance test specs.
            </div>
            <div class="workflow-section">
              <div class="workflow-title">
                üñ•Ô∏è runPerformanceAuditInDesktop() - Desktop Audit Runner:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Launches headless Chrome browser
                in desktop mode, runs Lighthouse performance audit on target
                URL, generates HTML report, stores results in database
              </div>
              <div class="workflow-step">
                <strong>Parameters:</strong> cookies (array of cookie objects
                for authentication), url (page to test), config (Lighthouse
                desktop configuration), outputPath (where to save HTML report),
                reportName (name for report file)
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Dynamically imports Lighthouse: const
                lighthouse = await import('lighthouse')
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Launches Puppeteer browser: await
                puppeteer.launch({headless: true, args: ['--no-sandbox']})
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Creates new page: const page = await
                browser.newPage()
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Sets cookies for authentication: await
                page.setCookie(...cookies) - spreads cookie array
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Extracts port from browser WebSocket
                endpoint: new URL(browser.wsEndpoint()).port
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Converts port to integer:
                parseInt(port)
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Runs Lighthouse audit: await
                lighthouse.default(url, {port, output: 'html', logLevel:
                'silent', disableStorageReset: true}, config)
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Lighthouse returns result object with
                lhr (Lighthouse Result) and report (HTML)
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Validates result exists: if (!result ||
                !result.lhr || !result.report) throw Error
              </div>
              <div class="workflow-step">
                <strong>Step 10:</strong> Destructures: const {lhr, report} =
                result
              </div>
              <div class="workflow-step">
                <strong>Step 11:</strong> Creates output directory if missing:
                fs.mkdirSync(path.dirname(outputPath), {recursive: true})
              </div>
              <div class="workflow-step">
                <strong>Step 12:</strong> Writes HTML report to file:
                fs.writeFileSync(`${outputPath}/${reportName}.html`, report)
              </div>
              <div class="workflow-step">
                <strong>Step 13:</strong> Logs performance score:
                console.log(`Performance score:
                ${lhr.categories.performance.score * 100}`)
              </div>
              <div class="workflow-step">
                <strong>Step 14:</strong> Extracts all scores: performance =
                lhr.categories.performance.score * 100, accessibility =
                lhr.categories.accessibility.score * 100, etc.
              </div>
              <div class="workflow-step">
                <strong>Step 15:</strong> Creates record object: {performance:
                85, accessibility: 92, best_practice: 90, seo: 88, device_type:
                "desktop", test_name: reportName, url: url}
              </div>
              <div class="workflow-step">
                <strong>Step 16:</strong> Calls
                insertLighthousePerformanceRecord(record) to store in database
              </div>
              <div class="workflow-step">
                <strong>Step 17:</strong> Closes browser: await browser.close()
              </div>
              <div class="workflow-step">
                <strong>Example:</strong>
                runPerformanceAuditInDesktop([cookies], "https://site.com",
                desktopConfig, "performance-report/Desktop", "Homepage Desktop")
                ‚Üí Launches Chrome ‚Üí Audits homepage ‚Üí Score: 85 ‚Üí Saves HTML
                report ‚Üí Stores {performance:85, accessibility:92, ...} in
                database ‚Üí Closes browser
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üì± runPerformanceAuditInMobile() - Mobile Audit Runner:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Same as desktop audit but
                simulates mobile device (smaller screen, slower CPU/network)
              </div>
              <div class="workflow-step">
                <strong>Differences from desktop:</strong>
              </div>
              <div class="workflow-step">
                <strong>1.</strong> Uses mobileConfig instead of desktopConfig ‚Üí
                Sets formFactor: "mobile"
              </div>
              <div class="workflow-step">
                <strong>2.</strong> Screen emulation: mobile: true,
                deviceScaleFactor: 2 (Retina display)
              </div>
              <div class="workflow-step">
                <strong>3.</strong> CPU throttling: Simulates slower mobile
                processor
              </div>
              <div class="workflow-step">
                <strong>4.</strong> Network throttling: Simulates 4G mobile
                connection (may be commented out for faster CI)
              </div>
              <div class="workflow-step">
                <strong>5.</strong> device_type in record set to "mobile"
              </div>
              <div class="workflow-step">
                <strong>6.</strong> logLevel: "info" instead of "silent" (shows
                more debugging info)
              </div>
              <div class="workflow-step">
                <strong>Why test mobile:</strong> Mobile devices typically have
                lower scores due to slower CPUs, smaller screens, touch
                interfaces. Important to test both!
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Mobile audit on homepage ‚Üí Performance
                score 72 (vs desktop 85) ‚Üí Identifies mobile-specific issues
                like large images not optimized
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üì± runPerformanceAuditInTablet() - Tablet Audit Runner:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Simulates tablet device (medium
                between mobile and desktop)
              </div>
              <div class="workflow-step">
                <strong>Tablet configuration specifics:</strong>
              </div>
              <div class="workflow-step">
                <strong>1.</strong> Screen size: 768x1024 pixels (typical iPad
                size)
              </div>
              <div class="workflow-step">
                <strong>2.</strong> formFactor: "mobile" (Lighthouse treats
                tablets as mobile)
              </div>
              <div class="workflow-step">
                <strong>3.</strong> deviceScaleFactor: 2 (Retina tablet display)
              </div>
              <div class="workflow-step">
                <strong>4.</strong> CPU throttling: 1.5x slowdown (between
                mobile and desktop)
              </div>
              <div class="workflow-step">
                <strong>5.</strong> Network throttling: 1500 Kbps (faster than
                mobile, slower than desktop)
              </div>
              <div class="workflow-step">
                <strong>6.</strong> device_type: "tablet" in database record
              </div>
              <div class="workflow-step">
                <strong>Why test tablet:</strong> Tablets often have different
                layouts, touch interactions, but more power than phones. Tests
                ensure responsive design works at all sizes.
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Tablet audit shows score 78 ‚Üí Between
                mobile (72) and desktop (85) ‚Üí Identifies tablet-specific layout
                issues
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üìä recordPerformanceMetrics() - CPU/Memory Monitor:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Monitors Node.js process CPU
                usage and memory consumption during test execution, useful for
                identifying resource-heavy tests
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Gets current process ID: process.pid
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Starts interval timer: setInterval(()
                => {}, 1000) - samples every 1 second
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Uses pidusage library:
                pidusage(process.pid, (err, stats) => {})
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> stats object contains: {cpu: 25.5,
                memory: 156789123} - CPU as percentage, memory in bytes
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Pushes stats to array:
                metricsData.push({timestamp: Date.now(), cpu: stats.cpu, memory:
                stats.memory})
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Returns object: {stop: () =>
                clearInterval(timer), getData: () => metricsData}
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Test calls recorder.stop() when
                finished to stop monitoring
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Test calls recorder.getData() to get
                array of all measurements
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Test starts ‚Üí
                recordPerformanceMetrics() called ‚Üí Samples every 1s ‚Üí Test runs
                30s ‚Üí recorder.stop() ‚Üí getData() returns 30 data points ‚Üí
                [{cpu: 25, memory: 150MB}, {cpu: 45, memory: 180MB}, ...] ‚Üí Used
                to generate CPU/memory graph
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üóÉÔ∏è insertLighthousePerformanceRecord() - Database Storage:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Inserts Lighthouse audit results
                into SQLite database for later retrieval by dashboard
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Receives record object: {performance:
                85, accessibility: 92, best_practice: 90, seo: 88, device_type:
                "desktop", test_name: "Homepage", url: "https://site.com"}
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Connects to database: const db = new
                Database('lighthouse_performance.db')
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Ensures table exists (should already
                exist from initialization)
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Prepares INSERT statement: "INSERT INTO
                performance_matrix (performance, accessibility, best_practice,
                seo, device_type, test_name, url) VALUES (?, ?, ?, ?, ?, ?, ?)"
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Uses parameterized query (?
                placeholders) to prevent SQL injection
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Executes statement:
                stmt.run(record.performance, record.accessibility, ...)
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Database automatically adds: id
                (auto-increment), created_at (current timestamp)
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Logs success: console.log(`Inserted
                record for ${record.test_name}`)
              </div>
              <div class="workflow-step">
                <strong>Error Handling:</strong> Catches database errors ‚Üí Logs
                error but doesn't fail test (audit still succeeded)
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> After desktop audit completes ‚Üí
                insertRecord({performance:85, ...}) called ‚Üí INSERT INTO
                performance_matrix... ‚Üí New row added with id=47,
                created_at="2025-01-15 10:30:00" ‚Üí Dashboard can now fetch this
                result via /api/data
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üìà attachGraph() - Performance Chart Generator:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Generates PNG image of CPU/memory
                usage graph and attaches to test report (Allure or Playwright
                HTML report)
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Receives metricsRecorder object from
                recordPerformanceMetrics()
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Calls recorder.getData() to get array
                of measurements
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Processes data: Extracts CPU values
                [25, 30, 45, 50...], memory values [150MB, 160MB, 180MB...]
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Creates ChartJS configuration: {type:
                'line', data: {labels: timestamps, datasets: [{label: 'CPU %',
                data: cpuValues}, {label: 'Memory MB', data: memoryValues}]}}
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Uses chartjs-node-canvas library to
                render chart without browser
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Generates PNG image: const buffer =
                await chartJSNodeCanvas.renderToBuffer(config)
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Writes to file:
                fs.writeFileSync('performance-graph.png', buffer)
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Attaches to test report:
                testInfo.attach('Performance Metrics', {contentType:
                'image/png', path: 'performance-graph.png'})
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Graph shows: X-axis = time in seconds,
                Y-axis left = CPU %, Y-axis right = Memory MB, 2 colored lines
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Test finishes ‚Üí attachGraph() called ‚Üí
                Generates graph showing CPU spiked to 80% at 15s mark, memory
                gradually increased from 150MB to 200MB ‚Üí Graph PNG attached to
                Playwright HTML report ‚Üí QA can review resource usage
              </div>
            </div>
          </div>

          <div class="file-item">
            <div class="file-name">üìú utils/storeDb.mjs</div>
            <div class="file-description">
              <strong>Purpose:</strong> Utility for uploading SQLite database
              files to Supabase cloud storage. Used in CI/CD pipeline to backup
              test results after runs complete.
            </div>
            <div class="workflow-section">
              <div class="workflow-title">
                ‚òÅÔ∏è uploadDB() - Database Uploader:
              </div>
              <div class="workflow-step">
                <strong>Parameters:</strong> fileName
                ("lighthouse_performance.db"), pathContent
                ("./lighthouse_performance.db")
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Validates env vars: DB_SUPABASE_URL,
                DB_SUPABASE_TOKEN, DB_SUPABASE_BUCKET_NAME
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> IF missing ‚Üí console.error("‚ùå Missing
                env vars") ‚Üí return false
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Checks file exists:
                fs.existsSync(pathContent)
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> IF not found ‚Üí console.error("‚ùå File
                not found") ‚Üí return false
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Initializes Supabase: createClient(URL,
                TOKEN)
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Reads file: const fileContent =
                fs.readFileSync(pathContent) ‚Üí Returns Buffer
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Uploads:
                supabase.storage.from(bucket).upload(fileName, fileContent,
                {contentType: 'application/vnd.sqlite3', upsert: true})
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> upsert: true ‚Üí overwrites if exists,
                creates if new
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Awaits: const {data, error} = await
                upload
              </div>
              <div class="workflow-step">
                <strong>Step 10:</strong> IF error ‚Üí console.error("‚ùå Upload
                failed") ‚Üí return false
              </div>
              <div class="workflow-step">
                <strong>Step 11:</strong> IF success ‚Üí console.log("‚úÖ
                Uploaded", timestamp) ‚Üí return true
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Reads 5MB DB ‚Üí Uploads to Supabase ‚Üí
                URL: https://supabase.co/storage/.../lighthouse_performance.db
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üîç findLighthouseDbFiles() - File Finder:
              </div>
              <div class="workflow-step">
                <strong>Parameters:</strong> directory (defaults to "./")
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Reads directory: const files =
                fs.readdirSync(directory)
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Filters: files.filter(f =>
                f.startsWith('lighthouse_performance') && f.endsWith('.db'))
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Matches: "lighthouse_performance.db" ‚úì,
                "lighthouse_performance_mobile.db" ‚úì
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Logs: console.log("üìÇ Found X files")
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Maps to objects: [{fileName: "file.db",
                filePath: "./file.db"}]
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Returns array for batch upload
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Finds 3 DBs ‚Üí
                lighthouse_performance_desktop.db (8MB), _mobile.db (6MB),
                _tablet.db (7MB)
              </div>
            </div>
          </div>

          <div class="file-item">
            <div class="file-name">üìú utils/storeReports.mjs</div>
            <div class="file-description">
              <strong>Purpose:</strong> Uploads HTML Lighthouse reports to
              Supabase. Preserves folder structure (Authorized/Unauthorized/CPU,
              Desktop/Mobile/Tablet).
            </div>
            <div class="workflow-section">
              <div class="workflow-title">
                üìù uploadReport() - Single Report Uploader:
              </div>
              <div class="workflow-step">
                <strong>Parameters:</strong> fileName ("Homepage.html"),
                pathContent (full local path), subFolder ("Authorized/Desktop")
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Validates env vars (same 3 as uploadDB)
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Checks file exists locally
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Creates Supabase client
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Constructs path: storagePath =
                subFolder ? `${subFolder}/${fileName}` : fileName
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Example: subFolder="Authorized/Desktop"
                + fileName="Home.html" ‚Üí "Authorized/Desktop/Home.html"
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Reads HTML: const content =
                fs.readFileSync(pathContent)
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Uploads:
                supabase.storage.from(bucket).upload(storagePath, content,
                {contentType: 'text/html', upsert: true})
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> contentType: 'text/html' ‚Üí Browser
                renders it, not downloads
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Returns true/false for success tracking
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Uploads 500KB HTML ‚Üí Viewable at
                https://supabase.co/.../Authorized/Desktop/Home.html
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üìÅ findReportFiles() - Recursive Finder:
              </div>
              <div class="workflow-step">
                <strong>Parameters:</strong> directory (path to scan),
                baseDirectory (tracks subfolder during recursion)
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Checks directory exists
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Reads contents: const items =
                fs.readdirSync(directory)
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> For each item: Gets full path, checks
                if directory or file
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> IF directory ‚Üí Recursively calls
                itself: findReportFiles(fullPath, `${baseDir}/${item}`)
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> IF file ends with .html ‚Üí Adds to
                results: {fileName, filePath, subFolder}
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Returns array of ALL .html files at any
                depth with their folder paths
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Scans Authorized/ ‚Üí Desktop/Home.html,
                Mobile/Home.html ‚Üí Returns [{fileName:"Home.html",
                subFolder:"Authorized/Desktop"}, {fileName:"Home.html",
                subFolder:"Authorized/Mobile"}]
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">
                üöÄ uploadAllPerformanceReports() - Batch Orchestrator:
              </div>
              <div class="workflow-step">
                <strong>Parameters:</strong> performanceReportDir (defaults to
                "./performance-report")
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Defines directories:
                ["Authorized-performance-reports",
                "Unauthorized-performance-reports", "cpu"]
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> For each directory: Scans for HTML
                files using findReportFiles()
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> For each found file: Calls
                uploadReport() ‚Üí Gets Promise (doesn't await yet)
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Collects all Promises in array:
                allUploads.push(uploadPromise)
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> Logs total: console.log("üöÄ Starting
                upload of X files...")
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Executes ALL in parallel: const results
                = await Promise.all(allUploads)
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> Counts successes: results.filter(r => r
                === true).length
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> Logs summary: "üìä Upload Summary: ‚úÖ X
                successful, ‚ùå Y failed"
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Returns true if all succeeded, false if
                any failed
              </div>
              <div class="workflow-step">
                <strong>Example:</strong> Finds 45 files ‚Üí Uploads all parallel
                in 30s ‚Üí 43 succeed, 2 fail ‚Üí Logs summary ‚Üí Returns false
              </div>
              <div class="workflow-step">
                <strong>CI/CD:</strong> GitHub Actions runs tests ‚Üí node
                utils/storeReports.mjs ‚Üí Uploads all reports to Supabase
              </div>
            </div>
          </div>

          <div class="file-item">
            <div class="file-name">üìú utils/common.ts</div>
            <div class="file-description">
              <strong>Purpose:</strong> Shared TypeScript utilities for test
              reporting and Allure integration. Attaches Lighthouse HTML reports
              to test results for consolidated viewing.
            </div>
            <div class="workflow-section">
              <div class="workflow-title">
                üìé attachHtmlToAllureReport() - Report Attacher:
              </div>
              <div class="workflow-step">
                <strong>What it does:</strong> Attaches Lighthouse HTML report
                to Playwright/Allure test report so QA can view everything in
                one place
              </div>
              <div class="workflow-step">
                <strong>Parameters:</strong> testName ("Homepage Desktop"),
                reportPath ("./performance-report/Desktop"), testInfo
                (Playwright TestInfo object)
              </div>
              <div class="workflow-step">
                <strong>Step 1:</strong> Constructs full path: const fullPath =
                path.join(reportPath, `${testName}.html`)
              </div>
              <div class="workflow-step">
                <strong>Step 2:</strong> Example:
                path.join("./performance-report/Desktop", "Homepage
                Desktop.html") = "./performance-report/Desktop/Homepage
                Desktop.html"
              </div>
              <div class="workflow-step">
                <strong>Step 3:</strong> Checks file exists: if
                (!fs.existsSync(fullPath)) ‚Üí console.error ‚Üí return
              </div>
              <div class="workflow-step">
                <strong>Step 4:</strong> Reads HTML: const htmlContent =
                fs.readFileSync(fullPath, 'utf-8')
              </div>
              <div class="workflow-step">
                <strong>Step 5:</strong> 'utf-8' encoding ‚Üí reads as text string
                (not binary)
              </div>
              <div class="workflow-step">
                <strong>Step 6:</strong> Attaches to test:
                testInfo.attach(testName, {body: htmlContent, contentType:
                'text/html'})
              </div>
              <div class="workflow-step">
                <strong>Step 7:</strong> contentType: 'text/html' ‚Üí Report
                viewer renders HTML inline
              </div>
              <div class="workflow-step">
                <strong>Step 8:</strong> In Playwright report: Test shows ‚úÖ/‚ùå
                status + üìé Attachments section
              </div>
              <div class="workflow-step">
                <strong>Step 9:</strong> Click attachment name ‚Üí Opens full
                Lighthouse report showing: Performance score, Metrics (FCP, LCP,
                TTI), Opportunities, Diagnostics, Screenshots
              </div>
              <div class="workflow-step">
                <strong>Step 10:</strong> QA reviews all details without opening
                separate files
              </div>
              <div class="workflow-step">
                <strong>Example Usage:</strong> test('audit', async ({page},
                testInfo) => { await runPerformanceAuditInDesktop(...) ‚Üí await
                attachHtmlToAllureReport("Homepage Desktop", "./reports",
                testInfo) ‚Üí Report attached ‚Üí QA clicks attachment in report ‚Üí
                Sees full Lighthouse metrics }
              </div>
              <div class="workflow-step">
                <strong>Benefits:</strong> 1) Single location for all artifacts,
                2) No downloading 50 HTML files, 3) Easy comparison across
                tests, 4) Shareable report URL, 5) Search across attachments
              </div>
            </div>
            <div class="workflow-section" style="margin-top: 1rem">
              <div class="workflow-title">üõ†Ô∏è Other Common Utilities:</div>
              <div class="workflow-step">
                <strong>May include:</strong> Helper functions (formatDate,
                generateTestId), Constants (TEST_TIMEOUT, REPORT_FOLDER), Type
                definitions (interface TestResult, type DeviceType)
              </div>
              <div class="workflow-step">
                <strong>Why separate file:</strong> DRY principle ‚Üí Write once,
                import everywhere ‚Üí Changes in one place apply to all tests ‚Üí
                Maintains consistency
              </div>
            </div>
          </div>
        </div>

        <!-- Test Files -->
        <div class="section-card">
          <h2 class="section-title">üß™ Test Files & Workflows</h2>

          <div class="file-item">
            <div class="file-name">üìú tests/Auth/performance.spec.ts</div>
            <div class="file-description">
              Authenticated user performance tests using Playwright and
              Lighthouse.
            </div>
            <div class="workflow-section">
              <div class="workflow-title">Test Workflow:</div>
              <div class="workflow-step">1. Navigate to target URL</div>
              <div class="workflow-step">2. Perform login authentication</div>
              <div class="workflow-step">
                3. Run Lighthouse audits (Desktop, Mobile, Tablet)
              </div>
              <div class="workflow-step">4. Record performance metrics</div>
              <div class="workflow-step">5. Store results in database</div>
              <div class="workflow-step">6. Generate HTML reports</div>
            </div>
          </div>

          <div class="file-item">
            <div class="file-name">üìú tests/UnAuth/performance.spec.ts</div>
            <div class="file-description">
              Unauthenticated (public) performance tests for guest user
              experience.
            </div>
            <div class="workflow-section">
              <div class="workflow-title">Test Workflow:</div>
              <div class="workflow-step">1. Navigate to public pages</div>
              <div class="workflow-step">
                2. Run Lighthouse audits without authentication
              </div>
              <div class="workflow-step">3. Record performance metrics</div>
              <div class="workflow-step">
                4. Store results and generate reports
              </div>
            </div>
          </div>

          <div class="file-item">
            <div class="file-name">üìú test-data/enum.ts</div>
            <div class="file-description">
              Test configuration and URL definitions for different test
              scenarios.
            </div>
            <div class="function-list">
              <div class="function-item">URLS - Target URLs for testing</div>
              <div class="function-item">
                AUTHORIZED_PATHS - Authenticated test paths
              </div>
              <div class="function-item">
                UNAUTHORIZED_PATHS - Public test paths
              </div>
            </div>
          </div>
        </div>

        <!-- Configuration Files -->
        <div class="section-card">
          <h2 class="section-title">‚öôÔ∏è Configuration & Lighthouse Setup</h2>

          <div class="file-item">
            <div class="file-name">üìú lighthouse/base.ts</div>
            <div class="file-description">
              Lighthouse configuration presets for different device types and
              testing scenarios.
            </div>
            <div class="function-list">
              <div class="function-item">
                mobileConfig - Mobile device simulation settings
              </div>
              <div class="function-item">
                desktopConfig - Desktop browser settings
              </div>
              <div class="function-item">
                tabletConfig - Tablet device simulation
              </div>
              <div class="function-item">
                thresholds - Performance score thresholds
              </div>
            </div>
          </div>

          <div class="file-item">
            <div class="file-name">üìú playwright.config.ts</div>
            <div class="file-description">
              Playwright test framework configuration with reporting and
              execution settings.
            </div>
          </div>

          <div class="file-item">
            <div class="file-name">üìú .github/workflows/playwright.yml</div>
            <div class="file-description">
              CI/CD pipeline configuration for automated testing and deployment.
            </div>
            <div class="workflow-section">
              <div class="workflow-title">CI/CD Workflow:</div>
              <div class="workflow-step">
                1. Trigger on push/PR to main branch
              </div>
              <div class="workflow-step">
                2. Set up Node.js and dependencies
              </div>
              <div class="workflow-step">3. Install Playwright browsers</div>
              <div class="workflow-step">4. Run performance tests</div>
              <div class="workflow-step">
                5. Upload databases and reports to Supabase
              </div>
              <div class="workflow-step">6. Generate and deploy artifacts</div>
            </div>
          </div>
        </div>

        <!-- Technologies Used -->
        <div class="section-card">
          <h2 class="section-title">üõ†Ô∏è Technologies & Tools</h2>
          <div class="tech-grid">
            <div class="tech-item">
              <div class="tech-name">Frontend</div>
              <div class="file-description">
                HTML5, CSS3, Vanilla JavaScript, Highcharts.js for data
                visualization
              </div>
            </div>
            <div class="tech-item">
              <div class="tech-name">Backend</div>
              <div class="file-description">
                Node.js, Express.js, SQLite3, Better-sqlite3
              </div>
            </div>
            <div class="tech-item">
              <div class="tech-name">Testing</div>
              <div class="file-description">
                Playwright, Lighthouse, Puppeteer, TypeScript
              </div>
            </div>
            <div class="tech-item">
              <div class="tech-name">Storage</div>
              <div class="file-description">
                Supabase Storage, SQLite databases
              </div>
            </div>
            <div class="tech-item">
              <div class="tech-name">CI/CD</div>
              <div class="file-description">
                GitHub Actions, Automated deployment
              </div>
            </div>
            <div class="tech-item">
              <div class="tech-name">Monitoring</div>
              <div class="file-description">
                Performance metrics, CPU/Memory tracking
              </div>
            </div>
          </div>
        </div>

        <!-- API Endpoints -->
        <div class="section-card">
          <h2 class="section-title">üîó API Endpoints</h2>
          <table class="responsive-table">
            <thead>
              <tr>
                <th>Endpoint</th>
                <th>Method</th>
                <th>Description</th>
                <th>Response</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>/api/data</td>
                <td>GET</td>
                <td>Performance test data</td>
                <td>JSON array of performance records</td>
              </tr>
              <tr>
                <td>/api/visual/data</td>
                <td>GET</td>
                <td>Visual test results</td>
                <td>JSON array of visual test data</td>
              </tr>
              <tr>
                <td>/api/baseline/data</td>
                <td>GET</td>
                <td>Baseline test data</td>
                <td>JSON array of baseline records</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Project Architecture -->
        <div class="section-card">
          <h2 class="section-title">üèóÔ∏è Project Architecture</h2>
          <div class="workflow-section">
            <div class="workflow-title">Data Flow:</div>
            <div class="workflow-step">
              1. <strong>Test Execution:</strong> Playwright runs performance
              tests using Lighthouse
            </div>
            <div class="workflow-step">
              2. <strong>Data Collection:</strong> Results stored in SQLite
              databases
            </div>
            <div class="workflow-step">
              3. <strong>Storage:</strong> Databases and reports uploaded to
              Supabase
            </div>
            <div class="workflow-step">
              4. <strong>API Layer:</strong> Express.js server provides REST
              endpoints
            </div>
            <div class="workflow-step">
              5. <strong>Frontend:</strong> Dashboards fetch and visualize data
            </div>
            <div class="workflow-step">
              6. <strong>CI/CD:</strong> Automated testing and deployment
              pipeline
            </div>
          </div>
        </div>
      </main>
    </div>
    <script src="js/common.js"></script>
    <script src="js/about.js"></script>
  </body>
</html>
